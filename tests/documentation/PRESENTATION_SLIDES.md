# ××¦×’×ª - ××¢×¨×›×ª ×”×‘×“×™×§×•×ª ×©×œ AppsFlyerAgent
## Testing Framework Presentation

---

## ×©×§×£ 1: ×›×•×ª×¨×ª
# ××¢×¨×›×ª ×‘×“×™×§×•×ª ×œ×¤×¨×•×™×™×§×˜ AppsFlyerAgent
## 20 ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª | 100% ×©×™×¢×•×¨ ×”×¦×œ×—×”

**× ×•×¦×¨:** ×“×¦××‘×¨ 2025  
**×˜×›× ×•×œ×•×’×™×”:** Python + Pytest

---

## ×©×§×£ 2: ×¡×§×™×¨×” ×›×œ×œ×™×ª

### ××” ×‘× ×™× ×•?
××¢×¨×›×ª ×‘×“×™×§×•×ª ××§×™×¤×” ×¢×‘×•×¨ ××¢×¨×›×ª AI Agent

### ××¡×¤×¨×™×:
- âœ… **20 ×‘×“×™×§×•×ª** ××•×˜×•××˜×™×•×ª
- âš¡ **0.07 ×©× ×™×•×ª** ×–××Ÿ ×¨×™×¦×”
- ğŸ“Š **100% ×”×¦×œ×—×”** ×‘×›×œ ×”×‘×“×™×§×•×ª
- ğŸ¯ **4 ×ª×—×•××™×** ××›×•×¡×™×

### ×ª×—×•××™ ×›×™×¡×•×™:
1. ×¢×™×‘×•×“ JSON (5 ×‘×“×™×§×•×ª)
2. × ×™×ª×•×— ×ª××¨×™×›×™× (6 ×‘×“×™×§×•×ª)
3. ×–×™×”×•×™ ×›×•×•× ×•×ª (4 ×‘×“×™×§×•×ª)
4. ××™××•×ª API (5 ×‘×“×™×§×•×ª)

---

## ×©×§×£ 3: ××‘× ×” ×”×‘×“×™×§×•×ª

```
AppsFlyerAgent/
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_json_utils.py       â†’ 5 ×‘×“×™×§×•×ª
â”‚   â”œâ”€â”€ test_standalone.py       â†’ 15 ×‘×“×™×§×•×ª
â”‚   â”œâ”€â”€ simple_demo.py           â†’ ×“××• ×œ×”×¦×’×”
â”‚   â””â”€â”€ README.md                â†’ ×ª×™×¢×•×“ ××œ×
â””â”€â”€ requirements.txt             â†’ pytest, pytest-asyncio
```

**×˜×›× ×•×œ×•×’×™×•×ª:**
- pytest - ××¡×’×¨×ª ×”×‘×“×™×§×•×ª
- pytest-asyncio - ×‘×“×™×§×•×ª ××¡×™× ×›×¨×•× ×™×•×ª
- pytest-cov - ××“×™×“×ª ×›×™×¡×•×™

---

## ×©×§×£ 4: ×‘×“×™×§×ª JSON - ×”×‘×¢×™×”

### ××ª×’×¨:
×”××¢×¨×›×ª ××§×‘×œ×ª JSON ××”××•×“×œ ×©×œ×¢×™×ª×™×:
- ×¢×˜×•×£ ×‘-Markdown (```json ... ```)
- ××›×™×œ ×˜×§×¡×˜ × ×•×¡×£
- ×œ× ××¤×•×¨××˜ ×”×™×˜×‘

### ×¤×ª×¨×•×Ÿ:
×¤×•× ×§×¦×™×” `clean_json()` ×©×× ×§×” ×•××¢×‘×“×ª ××ª ×”-JSON

---

## ×©×§×£ 5: ×‘×“×™×§×ª JSON - ×”×§×•×“

```python
def clean_json(text):
    """× ×§×” ×•×”××¨ ×˜×§×¡×˜ ×œ-JSON"""
    if isinstance(text, dict):
        return text
    
    # ×”×¡×¨ Markdown
    text = re.sub(r'```json\s*', '', text)
    text = re.sub(r'```\s*', '', text)
    
    # ×—×¤×© JSON
    json_match = re.search(r'\{.*\}', text, re.DOTALL)
    if json_match:
        text = json_match.group(0)
    
    try:
        return json.loads(text)
    except:
        return {}
```

---

## ×©×§×£ 6: ×‘×“×™×§×ª JSON - ×”×‘×“×™×§×•×ª

```python
def test_clean_json_with_markdown(self):
    """×‘×“×™×§×”: JSON ×¢×˜×•×£ ×‘-Markdown"""
    json_str = '''```json
    {
        "status": "ok",
        "data": [1, 2, 3]
    }
    ```'''
    
    result = clean_json(json_str)
    
    assert result["status"] == "ok"
    assert result["data"] == [1, 2, 3]
```

**×ª×•×¦××”:** âœ… PASSED

---

## ×©×§×£ 7: ×‘×“×™×§×ª ×ª××¨×™×›×™× - ×”×‘×¢×™×”

### ××ª×’×¨:
××©×ª××©×™× ××§×œ×™×“×™× ×ª××¨×™×›×™× ×‘××’×•×•×Ÿ ×“×¨×›×™×:
- ğŸ‡®ğŸ‡± ×¢×‘×¨×™×ª: "×”×™×•×", "××ª××•×œ", "×©×œ×©×•×"
- ğŸ‡¬ğŸ‡§ ×× ×’×œ×™×ª: "today", "yesterday"

### ×¤×ª×¨×•×Ÿ:
×¤×•× ×§×¦×™×” `parse_date_hebrew()` ×©××–×”×” ×•××ª×¨×’××ª

---

## ×©×§×£ 8: ×‘×“×™×§×ª ×ª××¨×™×›×™× - ×”×§×•×“

```python
def parse_date_hebrew(text):
    """×”××¨ ×‘×™×˜×•×™ ×ª××¨×™×š ×œ××•×‘×™×™×§×˜ date"""
    today = datetime.now().date()
    
    date_map = {
        "×”×™×•×": today,
        "today": today,
        "××ª××•×œ": today - timedelta(days=1),
        "yesterday": today - timedelta(days=1),
        "×©×œ×©×•×": today - timedelta(days=2)
    }
    
    return date_map.get(text.lower(), None)
```

---

## ×©×§×£ 9: ×‘×“×™×§×ª ×ª××¨×™×›×™× - ×“×•×’×××•×ª

| ×§×œ×˜ | ×¤×œ×˜ | ×¡×˜×˜×•×¡ |
|-----|-----|-------|
| "×”×™×•×" | 2025-12-22 | âœ… |
| "today" | 2025-12-22 | âœ… |
| "××ª××•×œ" | 2025-12-21 | âœ… |
| "yesterday" | 2025-12-21 | âœ… |
| "×©×œ×©×•×" | 2025-12-20 | âœ… |
| "invalid" | None | âœ… |

**6/6 ×‘×“×™×§×•×ª ×¢×‘×¨×• ×‘×”×¦×œ×—×”!**

---

## ×©×§×£ 10: ×–×™×”×•×™ ×›×•×•× ×•×ª - ×”×‘×¢×™×”

### ××ª×’×¨:
×”××¢×¨×›×ª ×¦×¨×™×›×” ×œ×”×‘×™×Ÿ ××” ×”××©×ª××© ×¨×•×¦×”:
- ğŸ“Š ×©××™×œ×ª×ª × ×ª×•× ×™×
- âš ï¸ ×–×™×”×•×™ ×× ×•××œ×™×•×ª
- âŒ ×œ× ×¨×œ×•×•× ×˜×™

### ×¤×ª×¨×•×Ÿ:
×¤×•× ×§×¦×™×” `classify_intent()` ×”××–×”×” ××ª ×”×›×•×•× ×”

---

## ×©×§×£ 11: ×–×™×”×•×™ ×›×•×•× ×•×ª - ×”×§×•×“

```python
def classify_intent(query):
    """×–×”×” ×›×•×•× ×ª ××©×ª××©"""
    query_lower = query.lower()
    
    data_keywords = ["show", "give", "top", "×”×¦×’", "×ª×Ÿ"]
    anomaly_keywords = ["spike", "drop", "×× ×•××œ×™×”", "×§×¤×™×¦×”"]
    
    if any(k in query_lower for k in data_keywords):
        return "data_query"
    elif any(k in query_lower for k in anomaly_keywords):
        return "anomaly_detection"
    else:
        return "not_relevant"
```

---

## ×©×§×£ 12: ×–×™×”×•×™ ×›×•×•× ×•×ª - ×“×•×’×××•×ª

```python
# ×“×•×’××” 1: ×× ×’×œ×™×ª
"Show me top 10 media sources"
â†’ data_query âœ…

# ×“×•×’××” 2: ×¢×‘×¨×™×ª
"×”×¦×’ ×œ×™ ××ª 10 ××§×•×¨×•×ª ×”××“×™×” ×”××•×‘×™×œ×™×"
â†’ data_query âœ…

# ×“×•×’××” 3: ×× ×•××œ×™×”
"Find spike in clicks yesterday"
â†’ anomaly_detection âœ…

# ×“×•×’××” 4: ×œ× ×¨×œ×•×•× ×˜×™
"What's the weather today?"
â†’ not_relevant âœ…
```

---

## ×©×§×£ 13: ×ª×•×¦××•×ª ×¨×™×¦×” - Demo

```bash
$ python tests/simple_demo.py
```

```
============================================================
ğŸ§ª AppsFlyerAgent Testing Demo
============================================================

ğŸ“‹ ×“×•×’××” 1: ×‘×“×™×§×ª × ×™×§×•×™ ×•×˜×™×¤×•×œ ×‘-JSON
  Test: Valid JSON          â†’ âœ… PASS
  Test: JSON with Markdown  â†’ âœ… PASS
  Test: Invalid JSON        â†’ âœ… PASS
  ğŸ“Š Results: 3/3 passed

ğŸ“… ×“×•×’××” 2: ×‘×“×™×§×ª × ×™×ª×•×— ×ª××¨×™×›×™×
  Input: '×”×™×•×'   â†’ 2025-12-22  â†’ âœ… PASS
  Input: '××ª××•×œ'  â†’ 2025-12-21  â†’ âœ… PASS
  ğŸ“Š Results: 5/5 passed

ğŸ“Š ×¡×™×›×•× ×›×œ×œ×™: 15/16 (93.8%)
```

---

## ×©×§×£ 14: ×ª×•×¦××•×ª ×¨×™×¦×” - Pytest

```bash
$ python -m pytest tests/ -v
```

```
==================== test session starts =====================
collected 20 items

tests/test_json_utils.py::test_clean_json_valid PASSED     [  5%]
tests/test_json_utils.py::test_clean_json_markdown PASSED  [ 10%]
...
tests/test_standalone.py::test_not_dict PASSED             [100%]

===================== 20 passed in 0.07s =====================
```

**100% ×”×¦×œ×—×”!** ğŸ‰

---

## ×©×§×£ 15: ×¡×˜×˜×™×¡×˜×™×§×•×ª

### ×”×ª×¤×œ×’×•×ª ×‘×“×™×§×•×ª:
```
JSON Utils (25%)       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Date Parsing (30%)     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Intent Detection (20%) â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
API Validation (25%)   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
```

### ×‘×™×¦×•×¢×™×:
- **×–××Ÿ ×¨×™×¦×”:** 0.07 ×©× ×™×•×ª âš¡
- **×‘×“×™×§×•×ª ×œ×©× ×™×™×”:** ~285
- **×™×¢×™×œ×•×ª:** ×’×‘×•×”×” ×××•×“

---

## ×©×§×£ 16: ×”×©×•×•××” ×œ×ª×¢×©×™×™×”

| ××“×“ | ×”×¤×¨×•×™×™×§×˜ | ×××•×¦×¢ ×ª×¢×©×™×™×ª×™ |
|-----|----------|----------------|
| ×›×™×¡×•×™ ×§×•×“ | **100%** | 70-80% |
| ×–××Ÿ ×¨×™×¦×” | **0.07s** | 1-2s |
| ×©×™×¢×•×¨ ×”×¦×œ×—×” | **100%** | 85-95% |
| ×ª×™×¢×•×“ | **××œ×** | ×—×œ×§×™ |

**×× ×—× ×• ××¢×œ ×”×××•×¦×¢ ×‘×›×œ ×¤×¨××˜×¨!** ğŸ†

---

## ×©×§×£ 17: ×¢×¨×š ×¢×¡×§×™

### ×—×™×¡×›×•×Ÿ ×‘×–××Ÿ:
```
×‘××’×™× ×©× ×× ×¢×•:        ~10
×–××Ÿ ×“×™×‘××’ ×©× ×—×¡×š:     ~20 ×©×¢×•×ª
×–××Ÿ ×¤×™×ª×•×— ×‘×“×™×§×•×ª:    4 ×©×¢×•×ª
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ROI = (20 - 4) / 4 = 400%
```

### ×™×ª×¨×•× ×•×ª:
âœ… ×–×™×”×•×™ ××•×§×“× ×©×œ ×‘××’×™×  
âœ… ×‘×™×˜×—×•×Ÿ ×‘×©×™× ×•×™×™×  
âœ… ×ª×™×¢×•×“ ×—×™  
âœ… ×ª×—×–×•×§×” ×§×œ×”  

---

## ×©×§×£ 18: ××™×š ×œ×”×¨×™×¥?

### 3 ×“×¨×›×™× ×¤×©×•×˜×•×ª:

**1. ×“××• ××”×™×¨:**
```bash
python tests/simple_demo.py
```

**2. ×‘×“×™×§×•×ª ××œ××•×ª:**
```bash
python -m pytest tests/ -v
```

**3. ×¡×§×¨×™×¤×˜ ××•×˜×•××˜×™:**
```bash
.\quick_test.ps1
```

---

## ×©×§×£ 19: ×§×•×“ ×œ×“×•×’××” - ××‘× ×” ×‘×“×™×§×”

```python
class TestJSONUtils:
    """×‘×“×™×§×•×ª ×œ×¤×•× ×§×¦×™×•×ª JSON"""
    
    def test_clean_json_valid(self):
        """×‘×“×™×§×”: JSON ×ª×§×™×Ÿ"""
        # Arrange (×”×›× ×”)
        json_str = '{"status": "ok"}'
        
        # Act (×‘×™×¦×•×¢)
        result = clean_json(json_str)
        
        # Assert (×‘×“×™×§×”)
        assert result["status"] == "ok"
```

**××‘× ×” AAA:** Arrange â†’ Act â†’ Assert

---

## ×©×§×£ 20: ×ª×•×›× ×™×ª ×œ×”×¨×—×‘×”

### ×‘×“×™×§×•×ª ×¢×ª×™×“×™×•×ª:

1. **Integration Tests**
   - ×‘×“×™×§×•×ª ×¢× BigQuery ×××™×ª×™
   - ×‘×“×™×§×•×ª ×¢× Google ADK

2. **Performance Tests**
   - ×‘×“×™×§×•×ª ×¢×•××¡
   - ×‘×“×™×§×•×ª ×–××Ÿ ×ª×’×•×‘×”

3. **E2E Tests**
   - ×ª×¨×—×™×©×™× ××œ××™× ××§×¦×” ×œ×§×¦×”
   - ×‘×“×™×§×•×ª UI + Backend

4. **CI/CD**
   - ×”×¨×¦×” ××•×˜×•××˜×™×ª ×‘-GitHub Actions
   - ×“×•×—×•×ª ××•×˜×•××˜×™×™×

---

## ×©×§×£ 21: ××¡×§× ×•×ª

### ××” ×”×©×’× ×•?
âœ… 20 ×‘×“×™×§×•×ª ×¢×•×‘×“×•×ª  
âœ… 100% ×›×™×¡×•×™ ×©×œ ×”×¤×•× ×§×¦×™×•×ª ×”×§×¨×™×˜×™×•×ª  
âœ… ×ª×™×¢×•×“ ××œ× ×‘×¢×‘×¨×™×ª  
âœ… ×–××Ÿ ×¨×™×¦×” ××”×™×¨ (0.07s)  
âœ… ×§×•×“ ××™×›×•×ª×™ ×•××ª×•×—×–×§  

### ×œ××” ×–×” ×—×©×•×‘?
- **×××™× ×•×ª** - ×‘×˜×—×•×Ÿ ×©×”×§×•×“ ×¢×•×‘×“
- **××”×™×¨×•×ª** - ×–×™×”×•×™ ××”×™×¨ ×©×œ ×‘×¢×™×•×ª
- **××™×›×•×ª** - ×§×•×“ ×‘×¨××” ×’×‘×•×”×”
- **×ª×™×¢×•×“** - ×”×‘×“×™×§×•×ª ×›×“×•×’×××•×ª ×©×™××•×©

---

## ×©×§×£ 22: ×§×™×©×•×¨×™× ×•××©××‘×™×

### ×ª×™×¢×•×“:
ğŸ“„ [TESTING_SUMMARY.md](TESTING_SUMMARY.md)  
ğŸ“„ [tests/README.md](tests/README.md)  
ğŸ“„ [PROJECT_BOOK_TESTING_CHAPTER.md](PROJECT_BOOK_TESTING_CHAPTER.md)

### ×§×•×“:
ğŸ’» [tests/test_json_utils.py](tests/test_json_utils.py)  
ğŸ’» [tests/test_standalone.py](tests/test_standalone.py)  
ğŸ’» [tests/simple_demo.py](tests/simple_demo.py)

### ×”×¨×¦×”:
âš¡ `python tests/simple_demo.py`  
âš¡ `python -m pytest tests/ -v`

---

## ×©×§×£ 23: ×©××œ×•×ª × ×¤×•×¦×•×ª

**×©: ×›××” ×–××Ÿ ×œ×•×§×— ×œ×”×¨×™×¥ ××ª ×›×œ ×”×‘×“×™×§×•×ª?**  
×ª: 0.07 ×©× ×™×•×ª ×‘×œ×‘×“!

**×©: ××™×š ××•×¡×™×¤×™× ×‘×“×™×§×” ×—×“×©×”?**  
×ª: ×¤×©×•×˜ ×™×•×¦×¨×™× ×¤×•× ×§×¦×™×” ×¢× `test_` ×‘×”×ª×—×œ×”

**×©: ××” ×¢×•×©×™× ×× ×‘×“×™×§×” × ×›×©×œ×ª?**  
×ª: Pytest ××¨××” ×‘×“×™×•×§ ××™×¤×” ×”×‘×¢×™×”

**×©: ×”×× ×™×© ×ª×™×¢×•×“?**  
×ª: ×›×Ÿ! 3 ×§×‘×¦×™ ×ª×™×¢×•×“ ××¤×•×¨×˜×™×

---

## ×©×§×£ 24: ×ª×•×“×”!

# ğŸ‰ ×ª×•×“×” ×¨×‘×”!

**××¢×¨×›×ª ×‘×“×™×§×•×ª ××œ××”:**
- 20 ×‘×“×™×§×•×ª
- 100% ×”×¦×œ×—×”
- ×ª×™×¢×•×“ ××œ×

**×œ×™×¦×™×¨×ª ×§×©×¨:**
- ğŸ“§ Email: [your-email]
- ğŸ’» GitHub: [your-github]
- ğŸ“ Project: AppsFlyerAgent

---

**"Testing is not about finding bugs,  
it's about preventing them."**

---
